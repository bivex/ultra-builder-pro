## Blocking Scenarios

### Scenario 1: AI About to Suggest "Option 1 vs Option 2"

**Trigger**: AI detects user has 31 tasks and considers suggesting workflow options

**Guardian intervention** (BEFORE AI outputs options):

```typescript
// AI internal thought (blocked before output):
// "User has 31 tasks. I could suggest:
//  Option 1: Unified branch (all tasks in one branch)
//  Option 2: Independent branches (one branch per task)
//  Let me present both options..."

// Guardian detects keywords: "Option 1", "Option 2"
// â†’ BLOCK OUTPUT
// â†’ INJECT ENFORCEMENT MESSAGE
```

**Guardian output** (in Chinese at runtime):

```
ğŸš« å·¥ä½œæµä¸å¯åå•†æé†’

**æ£€æµ‹åˆ°**ï¼šå³å°†å»ºè®®æ›¿ä»£å·¥ä½œæµï¼ˆOption 1 vs Option 2ï¼‰

**Ultra Builder Pro ä½¿ç”¨å”¯ä¸€å¼ºåˆ¶å·¥ä½œæµ**ï¼š

**ç‹¬ç«‹ä»»åŠ¡åˆ†æ”¯æ¨¡å¼**ï¼ˆä¸å¯æ›´æ”¹ï¼‰ï¼š
```
main (å§‹ç»ˆæ´»è·ƒï¼Œæ°¸ä¸å†»ç»“)
 â”œâ”€â”€ feat/task-1-xxx (åˆ›å»º â†’ å®Œæˆ â†’ åˆå¹¶ â†’ åˆ é™¤)
 â”œâ”€â”€ feat/task-2-yyy (åˆ›å»º â†’ å®Œæˆ â†’ åˆå¹¶ â†’ åˆ é™¤)
 â””â”€â”€ feat/task-3-zzz (åˆ›å»º â†’ å®Œæˆ â†’ åˆå¹¶ â†’ åˆ é™¤)
```

**è§„åˆ™**ï¼š
- æ¯ä¸ªä»»åŠ¡ = ç‹¬ç«‹åˆ†æ”¯ï¼ˆ`feat/task-{id}-{description}`ï¼‰
- ä»»åŠ¡å®Œæˆ â†’ ç«‹å³åˆå¹¶åˆ° main â†’ åˆ é™¤åˆ†æ”¯
- main åˆ†æ”¯å§‹ç»ˆå¯éƒ¨ç½²ï¼ˆç”¨äºç´§æ€¥ä¿®å¤ï¼‰

**ç¦æ­¢**ï¼š
âŒ ç»Ÿä¸€åŠŸèƒ½åˆ†æ”¯ï¼ˆå¤šä¸ªä»»åŠ¡åœ¨ä¸€ä¸ªåˆ†æ”¯ï¼‰
âŒ å»¶è¿Ÿåˆå¹¶ç›´åˆ°"æ‰€æœ‰ä»»åŠ¡å®Œæˆ"
âŒ å†»ç»“ main åˆ†æ”¯ç­‰å¾…æ‰¹é‡éƒ¨ç½²
âŒ æä¾›"å·¥ä½œæµé€‰é¡¹"

**åŸå› **ï¼š
ç”Ÿäº§ç¯å¢ƒè¦æ±‚ main åˆ†æ”¯éšæ—¶å¯éƒ¨ç½²ã€‚ç´§æ€¥ä¿®å¤ä¸èƒ½ç­‰å¾… 31 ä¸ªä»»åŠ¡å®Œæˆã€‚
ç‹¬ç«‹åˆ†æ”¯æ”¯æŒå¹¶è¡Œå·¥ä½œå’Œç‹¬ç«‹å›æ»šã€‚

**å‚è€ƒ**ï¼š@guidelines/ultra-git-workflow.md - "CRITICAL: Workflow is Non-Negotiable"

**æ­£ç¡®åšæ³•ï¼ˆå”¯ä¸€å·¥ä½œæµï¼‰**ï¼š
1. Task #1: åˆ›å»º `feat/task-1-auth` â†’ å®Œæˆ â†’ åˆå¹¶ â†’ åˆ é™¤
2. Task #2: åˆ›å»º `feat/task-2-dashboard` â†’ å®Œæˆ â†’ åˆå¹¶ â†’ åˆ é™¤
3. Task #3: åˆ›å»º `feat/task-3-payment` â†’ å®Œæˆ â†’ åˆå¹¶ â†’ åˆ é™¤
... (ä¾æ¬¡å¤„ç†æ‰€æœ‰ 31 ä¸ªä»»åŠ¡)
```

---

### Scenario 2: AI Suggests Unified Branch for Multiple Tasks

**Trigger**: User asks "How should I handle 31 tasks?"

**AI attempt** (blocked):
```
"Create a feature branch 'feat/user-management' containing all 31 tasks..."
```

**Guardian intervention**:

```
ğŸš« å·¥ä½œæµè¿è§„è­¦å‘Š

**æ£€æµ‹åˆ°ä¸å®‰å…¨å»ºè®®**ï¼šç»Ÿä¸€åŠŸèƒ½åˆ†æ”¯ï¼ˆ31 ä¸ªä»»åŠ¡åœ¨ä¸€ä¸ªåˆ†æ”¯ï¼‰

**é—®é¢˜åˆ†æ**ï¼š

**åœºæ™¯**ï¼š31 ä¸ªä»»åŠ¡åœ¨ `feat/user-management` åˆ†æ”¯

**é£é™©**ï¼š
1. âŒ **ç´§æ€¥ä¿®å¤è¢«é˜»å¡**
   - ç”Ÿäº§ç¯å¢ƒå‡ºç°ä¸¥é‡ bug
   - main åˆ†æ”¯éœ€è¦ç«‹å³ä¿®å¤
   - ä½† feat/user-management å°šæœªå®Œæˆï¼ˆä»… 15/31 ä»»åŠ¡å®Œæˆï¼‰
   - å¿…é¡»ç­‰å¾…å‰©ä½™ 16 ä¸ªä»»åŠ¡ â†’ å»¶è¿Ÿä¿®å¤ 2-3 å¤©
   - **ä¸šåŠ¡æŸå¤±ï¼šä¸å¯æ¥å—**

2. âŒ **å›æ»šå›°éš¾**
   - Task #8 å¼•å…¥ critical bug
   - éœ€è¦å›æ»š Task #8
   - ä½† Task #8 åœ¨ feat/user-management åˆ†æ”¯ï¼ˆåŒ…å« 31 ä¸ªä»»åŠ¡ï¼‰
   - å›æ»šé€‰é¡¹ï¼š
     * å›æ»šæ•´ä¸ªåˆ†æ”¯ â†’ ä¸¢å¤± 30 ä¸ªä»»åŠ¡çš„å·¥ä½œï¼ˆ7 å¤©ï¼‰
     * æ‰‹åŠ¨ revert Task #8 â†’ å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™
   - **å›æ»šæˆæœ¬ï¼š7 å¤©å·¥ä½œé‡**

3. âŒ **å¹¶è¡Œå·¥ä½œå—é™**
   - å¤šä¸ªå¼€å‘è€…æ— æ³•å¹¶è¡Œå·¥ä½œ
   - æ‰€æœ‰äººå…±äº«ä¸€ä¸ªåˆ†æ”¯ â†’ é¢‘ç¹å†²çª
   - åˆå¹¶å†²çªè§£å†³ï¼šæ¯å¤© 1-2 å°æ—¶ Ã— 3 äºº = 3-6 å°æ—¶æµªè´¹

4. âŒ **Code Review è´¨é‡ä½**
   - PR åŒ…å« 31 ä¸ªä»»åŠ¡ï¼ˆ3,000+ è¡Œä»£ç ï¼‰
   - Reviewer æ— æ³•ä»”ç»†å®¡æŸ¥ï¼ˆæ—¶é—´ 4-6 å°æ—¶ï¼‰
   - é—®é¢˜é—æ¼ç‡ï¼š30%+

---

âœ… **æ­£ç¡®åšæ³•ï¼šç‹¬ç«‹ä»»åŠ¡åˆ†æ”¯**

**å·¥ä½œæµ**ï¼š
```
main (éšæ—¶å¯éƒ¨ç½²)
 â”œâ”€â”€ feat/task-1-user-model (120 lines) â†’ PR #1 â†’ åˆå¹¶ â†’ åˆ é™¤
 â”œâ”€â”€ feat/task-2-user-crud (200 lines) â†’ PR #2 â†’ åˆå¹¶ â†’ åˆ é™¤
 â”œâ”€â”€ feat/task-3-auth-jwt (150 lines) â†’ PR #3 â†’ åˆå¹¶ â†’ åˆ é™¤
 ... (ä¾æ¬¡å¤„ç†æ‰€æœ‰ 31 ä¸ªä»»åŠ¡)
```

**ä¼˜åŠ¿**ï¼š
1. âœ… **ç´§æ€¥ä¿®å¤ä¸å—é˜»**
   - main å§‹ç»ˆå¯éƒ¨ç½²
   - éšæ—¶å¯ä»¥åˆ›å»º `hotfix/critical-bug` åˆ†æ”¯
   - ä¿®å¤ã€æµ‹è¯•ã€éƒ¨ç½²ï¼š30 åˆ†é’Ÿ

2. âœ… **ç‹¬ç«‹å›æ»š**
   - Task #8 æœ‰é—®é¢˜ â†’ å›æ»š Task #8 çš„ commit
   - å…¶ä»– 30 ä¸ªä»»åŠ¡ä¸å—å½±å“
   - å›æ»šæˆæœ¬ï¼š5 åˆ†é’Ÿ

3. âœ… **å¹¶è¡Œå·¥ä½œé«˜æ•ˆ**
   - å¼€å‘è€… A: Task #1
   - å¼€å‘è€… B: Task #5ï¼ˆæ— ä¾èµ–ï¼‰
   - å¼€å‘è€… C: Task #12ï¼ˆæ— ä¾èµ–ï¼‰
   - é›¶å†²çªï¼Œé«˜æ•ˆåä½œ

4. âœ… **Code Review è´¨é‡é«˜**
   - æ¯ä¸ª PR: 100-200 è¡Œ
   - Reviewer ä»”ç»†å®¡æŸ¥ï¼š15-20 åˆ†é’Ÿ/PR
   - é—®é¢˜å‘ç°ç‡ï¼š95%+

**ç»“è®º**ï¼šå·²é˜»æ­¢ç»Ÿä¸€åˆ†æ”¯å»ºè®®ï¼Œå¼ºåˆ¶ä½¿ç”¨ç‹¬ç«‹ä»»åŠ¡åˆ†æ”¯

**å‚è€ƒ**ï¼š@guidelines/ultra-git-workflow.md
```

---

### Scenario 3: AI Suggests Delayed Merge

**Trigger**: AI suggests "Merge all tasks to main when complete"

**AI attempt** (blocked):
```
"Complete all 31 tasks in separate branches, then merge them to main together..."
```

**Guardian intervention**:

```
ğŸš« å·¥ä½œæµè¿è§„è­¦å‘Š

**æ£€æµ‹åˆ°ä¸å®‰å…¨å»ºè®®**ï¼šæ‰¹é‡åˆå¹¶ï¼ˆå»¶è¿Ÿåˆå¹¶ç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼‰

**å»ºè®®çš„å·¥ä½œæµ**ï¼ˆâŒ é”™è¯¯ï¼‰ï¼š
1. å®Œæˆ Task #1 â†’ ä¸åˆå¹¶ï¼Œä¿ç•™åœ¨ feat/task-1
2. å®Œæˆ Task #2 â†’ ä¸åˆå¹¶ï¼Œä¿ç•™åœ¨ feat/task-2
... (å®Œæˆæ‰€æœ‰ 31 ä¸ªä»»åŠ¡)
31. å®Œæˆ Task #31 â†’ ç„¶åä¸€æ¬¡æ€§åˆå¹¶æ‰€æœ‰åˆ†æ”¯

**é—®é¢˜åˆ†æ**ï¼š

**é£é™© #1ï¼šmain åˆ†æ”¯è¿‡æ—¶**
- 31 ä¸ªä»»åŠ¡é¢„è®¡ 6-8 å‘¨å®Œæˆ
- 8 å‘¨å†… main åˆ†æ”¯æ²¡æœ‰æ–°åŠŸèƒ½
- ç”¨æˆ·çœ‹ä¸åˆ°è¿›åº¦ï¼ˆæ— æ³•éªŒè¯éƒ¨åˆ†åŠŸèƒ½ï¼‰
- **ä¸šåŠ¡å½±å“**ï¼šå®¢æˆ·ä¿¡å¿ƒä¸‹é™

**é£é™© #2ï¼šé›†æˆåœ°ç‹±**
- 31 ä¸ªåˆ†æ”¯ç‹¬ç«‹å¼€å‘ 8 å‘¨
- åˆå¹¶æ—¶å‘ç°å†²çªï¼š200+ å¤„
- è§£å†³å†²çªï¼š2-3 å‘¨
- **å»¶æœŸé£é™©**ï¼šé¡¹ç›®å»¶æœŸ 2-3 å‘¨

**é£é™© #3ï¼šæµ‹è¯•å»¶è¿Ÿ**
- æ‰€æœ‰åŠŸèƒ½åœ¨ç¬¬ 8 å‘¨é›†æˆæµ‹è¯•
- å‘ç° Task #5 å’Œ Task #12 ä¸å…¼å®¹
- ä¿®å¤éœ€è¦é‡æ„ Task #5-#12ï¼ˆ1-2 å‘¨ï¼‰
- **è´¨é‡é£é™©**ï¼šæœªç»å¢é‡æµ‹è¯•

---

âœ… **æ­£ç¡®åšæ³•ï¼šå¢é‡åˆå¹¶**

**å·¥ä½œæµ**ï¼š
```
Week 1:
- Task #1 å®Œæˆ â†’ ç«‹å³åˆå¹¶åˆ° main â†’ éƒ¨ç½² â†’ ç”¨æˆ·éªŒè¯
- Task #2 å®Œæˆ â†’ ç«‹å³åˆå¹¶åˆ° main â†’ éƒ¨ç½² â†’ ç”¨æˆ·éªŒè¯

Week 2:
- Task #3 å®Œæˆ â†’ ç«‹å³åˆå¹¶åˆ° main â†’ éƒ¨ç½² â†’ ç”¨æˆ·éªŒè¯
- Task #4 å®Œæˆ â†’ ç«‹å³åˆå¹¶åˆ° main â†’ éƒ¨ç½² â†’ ç”¨æˆ·éªŒè¯

... (æ¯å‘¨ 4-5 ä¸ªä»»åŠ¡å¢é‡åˆå¹¶)

Week 8:
- Task #31 å®Œæˆ â†’ åˆå¹¶ â†’ éƒ¨ç½²
- æ‰€æœ‰ 31 ä¸ªä»»åŠ¡å·²é€æ­¥é›†æˆå’ŒéªŒè¯
```

**ä¼˜åŠ¿**ï¼š
1. âœ… **å¢é‡äº¤ä»˜**
   - æ¯å‘¨æ–°åŠŸèƒ½ä¸Šçº¿
   - ç”¨æˆ·æ—©æœŸåé¦ˆ
   - é£é™©åˆ†æ•£

2. âœ… **æ—©æœŸé›†æˆ**
   - æ¯ä¸ªä»»åŠ¡ç«‹å³é›†æˆåˆ° main
   - å†²çªæ—©å‘ç°ã€æ—©è§£å†³ï¼ˆæ¯å‘¨è§£å†³å°å†²çªï¼‰
   - é¿å…æœ€åé›†æˆåœ°ç‹±

3. âœ… **æŒç»­éªŒè¯**
   - æ¯ä¸ªåŠŸèƒ½ä¸Šçº¿åç«‹å³æµ‹è¯•
   - é—®é¢˜æ—©å‘ç°ï¼ˆTask #5 é—®é¢˜åœ¨ç¬¬ 2 å‘¨å‘ç°ï¼Œè€Œéç¬¬ 8 å‘¨ï¼‰
   - ä¿®å¤æˆæœ¬ä½ï¼ˆ1 å¤© vs 1-2 å‘¨ï¼‰

**ç»“è®º**ï¼šå·²é˜»æ­¢æ‰¹é‡åˆå¹¶å»ºè®®ï¼Œå¼ºåˆ¶ä½¿ç”¨å¢é‡åˆå¹¶

**å‚è€ƒ**ï¼šæŒç»­é›†æˆï¼ˆCIï¼‰å’ŒæŒç»­éƒ¨ç½²ï¼ˆCDï¼‰æœ€ä½³å®è·µ
```

---

### Scenario 4: AI Suggests Freezing Main Branch

**Trigger**: AI suggests "Freeze main during feature development"

**AI attempt** (blocked):
```
"Freeze main branch while developing these features, then deploy all together..."
```

**Guardian intervention**:

```
ğŸš« å·¥ä½œæµè¿è§„è­¦å‘Š

**æ£€æµ‹åˆ°ä¸å®‰å…¨å»ºè®®**ï¼šå†»ç»“ main åˆ†æ”¯ï¼ˆç­‰å¾…æ‰¹é‡éƒ¨ç½²ï¼‰

**å»ºè®®çš„å·¥ä½œæµ**ï¼ˆâŒ é”™è¯¯ï¼‰ï¼š
1. å†»ç»“ main åˆ†æ”¯ï¼ˆç¦æ­¢åˆå¹¶ï¼‰
2. åœ¨ feat/* åˆ†æ”¯å¼€å‘ 31 ä¸ªä»»åŠ¡ï¼ˆ6-8 å‘¨ï¼‰
3. æ‰€æœ‰ä»»åŠ¡å®Œæˆåï¼Œä¸€æ¬¡æ€§åˆå¹¶åˆ° main
4. æ‰¹é‡éƒ¨ç½²

**çœŸå®åœºæ™¯æ¨¡æ‹Ÿ**ï¼š

**Week 3ï¼ˆmain å·²å†»ç»“ 3 å‘¨ï¼‰**ï¼š
- ğŸ’¥ **ç”Ÿäº§ç¯å¢ƒç´§æ€¥æƒ…å†µ**
  - æ”¯ä»˜ç³»ç»Ÿå‡ºç°ä¸¥é‡ bugï¼ˆç”¨æˆ·æ— æ³•æ”¯ä»˜ï¼‰
  - å½±å“ï¼šæ¯å°æ—¶æŸå¤± $50,000
  - éœ€è¦ç«‹å³ä¿®å¤å¹¶éƒ¨ç½²

- âŒ **æ— æ³•ç«‹å³ä¿®å¤**
  - main åˆ†æ”¯å·²å†»ç»“
  - é€‰é¡¹ 1: è§£å†» mainï¼Œåˆå¹¶ä¿®å¤ â†’ ä½†ä¼šç ´å"æ‰¹é‡éƒ¨ç½²"è®¡åˆ’
  - é€‰é¡¹ 2: ç­‰å¾… 31 ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆï¼ˆè¿˜éœ€ 4-5 å‘¨ï¼‰â†’ ä¸šåŠ¡æŸå¤± $8.4M
  - é€‰é¡¹ 3: åˆ›å»ºç´§æ€¥åˆ†æ”¯ï¼Œç»•è¿‡ main â†’ è¿å Git ç­–ç•¥ï¼Œå¼•å…¥æŠ€æœ¯å€º

- **ç»“æœ**ï¼šç´§æ€¥ä¿®å¤è¢«é˜»å¡ï¼Œä¸šåŠ¡ä¸¥é‡æŸå¤±

---

âœ… **æ­£ç¡®åšæ³•ï¼šmain å§‹ç»ˆæ´»è·ƒ**

**å·¥ä½œæµ**ï¼š
```
main (æ°¸ä¸å†»ç»“ï¼Œéšæ—¶å¯éƒ¨ç½²)
 â”œâ”€â”€ feat/task-1 â†’ åˆå¹¶ â†’ éƒ¨ç½²ï¼ˆWeek 1ï¼‰
 â”œâ”€â”€ feat/task-2 â†’ åˆå¹¶ â†’ éƒ¨ç½²ï¼ˆWeek 1ï¼‰
 â”œâ”€â”€ hotfix/payment-bug â†’ åˆå¹¶ â†’ ç´§æ€¥éƒ¨ç½²ï¼ˆWeek 3ï¼Œ30 åˆ†é’Ÿï¼‰
 â”œâ”€â”€ feat/task-3 â†’ åˆå¹¶ â†’ éƒ¨ç½²ï¼ˆWeek 3ï¼‰
 ... (ç»§ç»­å¼€å‘å…¶ä»–ä»»åŠ¡)
```

**ä¼˜åŠ¿**ï¼š
1. âœ… **ç´§æ€¥ä¿®å¤æ— é˜»**
   - main å§‹ç»ˆå¯ç”¨
   - åˆ›å»º `hotfix/payment-bug` â†’ ä¿®å¤ â†’ æµ‹è¯• â†’ åˆå¹¶ â†’ éƒ¨ç½²
   - æ€»è€—æ—¶ï¼š30 åˆ†é’Ÿ
   - ä¸šåŠ¡æŸå¤±ï¼š$25,000ï¼ˆvs $8.4Mï¼‰

2. âœ… **æŒç»­éƒ¨ç½²**
   - æ¯ä¸ªä»»åŠ¡å®Œæˆåç«‹å³éƒ¨ç½²
   - ç”¨æˆ·æŒç»­è·å¾—æ–°åŠŸèƒ½
   - åé¦ˆå¾ªç¯çŸ­ï¼ˆ1 å‘¨ vs 8 å‘¨ï¼‰

3. âœ… **é£é™©åˆ†æ•£**
   - å°æ‰¹é‡éƒ¨ç½²ï¼ˆæ¯æ¬¡ 1-2 ä¸ªåŠŸèƒ½ï¼‰
   - é—®é¢˜å½±å“èŒƒå›´å°
   - å›æ»šå®¹æ˜“ï¼ˆå›æ»š 1 ä¸ª commit vs 31 ä¸ªï¼‰

**ç»“è®º**ï¼šå·²é˜»æ­¢ main å†»ç»“å»ºè®®ï¼Œå¼ºåˆ¶ main å§‹ç»ˆæ´»è·ƒ

**å‚è€ƒ**ï¼šç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µï¼ˆmain = production-readyï¼‰
```

---

